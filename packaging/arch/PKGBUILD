pkgname=app-dock-hyprland-git
pkgver=2471d57
pkgrel=1
pkgdesc="Bottom dock for Hyprland (GTK4 layer-shell)"
arch=(x86_64)
url="https://github.com/EthanMash0/app-dock-hyprland.git"
depends=(gtk4 gtk4-layer-shell glib2)
makedepends=(git gcc make pkgconf)
provides=(app-dock-hyprland)
conflicts=(app-dock-hyprland)

source=("app-dock-hyprland::git+file://$startdir/../..")
sha256sums=('SKIP')

pkgver() {
  cd "$srcdir/${pkgname%-git}"
  git describe --long --tags --always | sed 's/^v//;s/-/.r/;s/-/./'
}

build() {
  cd "$srcdir/${pkgname%-git}"
  make
}

package() {
  cd "$srcdir/${pkgname%-git}"
  make DESTDIR="$pkgdir" PREFIX=/usr install
}
